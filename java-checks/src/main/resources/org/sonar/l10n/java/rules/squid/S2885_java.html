<p>Not all classes in the standard Java library were written to be thread-safe. Using them in a multi-threaded manner is highly likely to cause data
problems or exceptions at runtime.</p>
<p>This rule raises an issue when an instance of <code>Calendar</code>, <code>DateFormat</code>, <code>javax.xml.xpath.XPath</code>, or
<code>javax.xml.validation.SchemaFactory</code> is marked <code>static</code>.</p>
<h2>Noncompliant Code Example</h2>
<pre>
public class MyClass {
  static private SimpleDateFormat format = new SimpleDateFormat("HH-mm-ss");  // Noncompliant
  static private Calendar calendar = Calendar.getInstance();  // Noncompliant
</pre>
<h2>Compliant Solution</h2>
<pre>
public class MyClass {
  private SimpleDateFormat format = new SimpleDateFormat("HH-mm-ss");
  private Calendar calendar = Calendar.getInstance();
</pre>
<h2>See</h2>
<ul>
  <li> <a href="http://cwe.mitre.org/data/definitions/366.html">MITRE CWE-366</a> - Race Condition within a Thread </li>
  <li> <a href="http://cwe.mitre.org/data/definitions/413.html">MITRE CWE-413</a> - Improper Resource Locking </li>
  <li> <a href="http://cwe.mitre.org/data/definitions/567.html">MITRE CWE-567</a> - Unsynchronized Access to Shared Data in a Multithreaded Context </li>
  <li> <a href="http://cwe.mitre.org/data/definitions/667.html">MITRE CWE-667</a> - Improper Locking </li>
  <li> <a href="https://www.securecoding.cert.org/confluence/x/RIFJAg">CERT, VNA02-J.</a> - Ensure that compound operations on shared variables are atomic </li>
</ul>
